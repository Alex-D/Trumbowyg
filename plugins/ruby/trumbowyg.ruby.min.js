(function ($) { 'use strict'; $.extend(true, $.trumbowyg, { langs: { en: { insertRuby: 'Add ruby text', rubyModal: 'Ruby modal', rubyText: 'Ruby text' }, id: { insertRuby: 'Sisipkan teks ruby', rubyModal: 'Modal teks ruby', rubyText: 'Teks ruby' } }, plugins: { insertRuby: { init: function (trumbowyg) { var btnDef = { fn: function () { trumbowyg.saveRange(); trumbowyg.openModalInsert(trumbowyg.lang.insertRuby, { rubyText: { label: trumbowyg.lang.rubyText, required: false, }, modal: { label: trumbowyg.lang.rubyModal, value: trumbowyg.getRangeText(), required: true} }, function (v) { var node = $('<ruby title="' + v.rubyText + '">' + v.modal + '<rp> (</rp><rt>' + v.rubyText + '</rt><rp>)</rp></ruby>')[0]; trumbowyg.range.deleteContents(); trumbowyg.range.insertNode(node); return true; } ); } }; trumbowyg.addBtnDef('insertRuby', btnDef); } } } }); })(jQuery); 